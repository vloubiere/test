/* ===== IMPORT FONT ===== */
/* montserrat-300 - latin */
@font-face {
  font-display: swap; /* Check https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display for other options. */
  font-family: 'Montserrat';
  font-style: normal;
  font-weight: 300;
  src: url('../fonts/montserrat-v30-latin-300.woff2') format('woff2'); /* Chrome 36+, Opera 23+, Firefox 39+, Safari 12+, iOS 10+ */
}
/* montserrat-regular - latin */
@font-face {
  font-display: swap; /* Check https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display for other options. */
  font-family: 'Montserrat';
  font-style: normal;
  font-weight: 400;
  src: url('../fonts/montserrat-v30-latin-regular.woff2') format('woff2'); /* Chrome 36+, Opera 23+, Firefox 39+, Safari 12+, iOS 10+ */
}
/* montserrat-600 - latin */
@font-face {
  font-display: swap; /* Check https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display for other options. */
  font-family: 'Montserrat';
  font-style: normal;
  font-weight: 600;
  src: url('../fonts/montserrat-v30-latin-600.woff2') format('woff2'); /* Chrome 36+, Opera 23+, Firefox 39+, Safari 12+, iOS 10+ */
}

/* ===== BUTTONS FONT COLOR ===== */
/* Ensure white text on primary buttons in all link states */
.btn.btn-primary,
.btn.btn-primary:link,
.btn.btn-primary:visited,
.btn.btn-primary:hover,
.btn.btn-primary:active,
.btn.btn-primary:focus {
  color: #fff !important;
}
.brand-cavalli { font-weight: 600 !important; } /* you already loaded 600 */

/* ===== GLOBAL SETTINGS ===== */
/* Width/padding of the website */
.container, .container-fluid {
  padding-left: 4vw;
  padding-right: 4vw;
  max-width: 2000px;
  margin-left: auto;
  margin-right: auto;
}

/* Center buttons */
.cta-group { justify-content: center; }

/* Responsive stacking for mobile */
@media (max-width: 900px) {
  .col-12 {
    flex-direction: column;
    gap: 1rem;
  }
  .card-simple {
    max-width: 100%;
    min-width: 0;
  }
}

/* Define default font and weight */
html, body, *:not(i):not([class*="fa"]):not([class*="icon"]) {
  font-family: 'Montserrat', Arial, sans-serif !important;
  font-weight: 300;
  color: #000;
  box-sizing: border-box;
}

/* ===== HEADING LINES AND SPACING ===== */
h1.mb-0, h2.mb-0, h3.mb-0, h4.mb-0, h5.mb-0, h6.mb-0 {
  font-family: 'Montserrat', Arial, sans-serif !important;
  letter-spacing: 0.02em  !important;
  margin-top: 1rem !important;
  margin-bottom: 1rem !important;
}
h1 { font-size: 2rem; }
h2 { font-size: 1.75rem; }
h3 { font-size: 1.5rem; }
h4 { font-size: 1.25rem; }
h5 { font-size: 1rem; }
h6 { font-size: 1rem; }

/* ===== CENTER TITLES AND ADD LINE ===== */
/* Make sure the heading container can host the line */
.home-section .section-title,
.home-section .section-heading {
  position:relative !important;
  display:block !important;
  text-align: center;
  margin:0 auto 1rem;
  padding-bottom:.5rem;
}

/* Add line */
.home-section .section-title::after,
.home-section .section-heading::after {
  content:"";
  position:absolute;
  left:50%;
  transform:translateX(-50%);
  bottom:-.15rem;           /* small gap below text */
  width:100px;               /* shorten line here */
  height:1px;
  background:rgba(0,0,0,.25);
  border-radius:2px;
}

/* ===== HOME PAGE BUTTON ===== */
/* CAVALLI LAB homepage button */
.navbar {
  position: relative;          /* needed for the ::before subtitle */
  padding-top: 2.75rem;
  padding-bottom: 2.75rem;
  padding-left: 4vw;
  padding-right: 4vw;
}

/* Keep this ONLY if your navbar has an inner .container/.container-fluid */
/* Inner container keeps the site gutter and anchors the subtitle */
.navbar > .container,
.navbar > .container-fluid {
  padding-left: 4vw;
  padding-right: 4vw;
  position: relative; /* anchor for ::before */
}

/* Subtitle aligned to the inner container (same left as brand) */
.navbar > .container::before,
.navbar > .container-fluid::before {
  content: "Epigenetic memory in development and cancer";
  position: absolute;
  left: 4vw;              /* matches the inner container gutter */
  bottom: -5px;
  font-size: 0.8rem;
  font-weight: 300;
  opacity: 0.85;
  line-height: 1;
  white-space: nowrap;    /* remove if you want wrapping */
  /* pointer-events: none; */  /* optional */
}

/* Remove outer navbar padding to avoid double gutter (since inner has 4vw) */
.navbar {
  padding-left: 0;
  padding-right: 0;
}

/* Brand styles (unchanged) */
.navbar-brand {
  letter-spacing: 0.02em;
  font-size: 2.5rem;
  font-weight: 300 !important;
  position: relative;
  display: inline-flex;
  align-items: center;
  padding-top: 0;
}

/* "Cavalli" prefix in bold */
.navbar-brand::before {
  content: "Cavalli";
  font-weight: 700 !important;
  margin-right: 0.15em;
}

/* IGH logo after the brand */
.navbar-brand::after {
  content: "";
  display: inline-block;
  background: url("../logos/IGH_logo.png") center/contain no-repeat;
  width: 75px;
  height: 50px;
  margin-left: 15px;
}

/* For the phone */
@media (max-width: 900px) {
  /* Hide IGH logo appended to brand */
  .navbar-brand::after { display: none !important; }

  /* Hide the subtitle injected via ::before on the inner container */
  .navbar > .container::before,
  .navbar > .container-fluid::before { display: none !important; }
}

/* ===== WADDINGTON LANDSCAPE BANNER ===== */
.tiny-banner {
  position: relative;
  overflow: hidden;
  display: block;
  margin-left: 3vw;
  margin-right: 3vw;
  width: calc(100vw - 6vw);    /* subtract both margins */
}

.tiny-banner::after {
  content: "";
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,0.35); /* adjust alpha 0â€“1 for transparency */
  pointer-events: none;
  z-index: 1;
}

.tiny-banner-center {
  width: 100vw;
  aspect-ratio: 1600 / 450;
  max-width: 100%;
  height: auto;
  min-height: 0;
  margin: 0 auto;
  overflow: hidden;
  display: block;
  margin-top: 0rem;
  position: relative;  /* add this */
  z-index: 2;          /* and this */
}

/* ===== RESEARCH BUTTONS ===== */
/* Bold text */
strong, b, .research-bold {
  font-weight: 400 !important;
}

.research-flex {
  display: flex;
  justify-content: space-between;  /* nice spacing */
  align-items: flex-start;
  flex-wrap: nowrap;               /* prevent wrapping until absolutely needed */
  gap: 2rem;
  width: 100%;
  max-width: 2400px;               /* optional: consistent with .container */
  margin: 0 auto;
  padding-left: 0vw;
  padding-right: 0vw;
}

.research-flex-item {
  margin-top: -1.5rem;
  flex: 1;                         /* grow all equally */
  display: flex;
  flex-direction: column;
  align-items: center;
}

/* Ensure images are always equal size and aligned at top */
.research-flex-item img {
  width: 200px;
  height: auto;
  display: block;
  margin: 1rem auto; /* same margin on all sides for consistency */
}

/* Captions are always centered, independent of image height */
.research-grid-caption {
  margin: 0.5em auto 0 auto;
  font-size: 1rem;
  max-width: 400px;
  word-break: break-word;
  white-space: normal;
  font-weight: 300;
  text-align: center;
}

/* For the phone */
@media (max-width: 900px) {
  .research-flex {
    flex-wrap: wrap;
    gap: 1rem;
  }
  .research-flex-item {
    flex: 1 1 100%;
    margin-top: 0;
  }
  .research-flex-item img {
    width: 60vw;   /* optional: scale images on mobile */
    max-width: 320px;
  }
}

/* ===== LATEST NEWS HOME PAGE ===== */
.row {
  display: flex;
  flex-wrap: wrap;
  gap: 1.5rem; /* Adjust spacing between cards */
}

/* Existing card styles (keep) */
.card-simple, .card {
  flex: 1 1 180px; /* Grow to fill row, min width 180px */
  max-width: 300px;
  min-width: 250px;
  margin: 0;
  margin-top: 0;
  font-size: 0.95rem;
  padding: 1rem;
  box-sizing: border-box;
}

.article-banner {
  width: 100%;
  aspect-ratio: 1 / 1;
  max-width: 400px;
  height: auto;
  object-fit: cover;
  object-position: center top; /* or center center, or center bottom */
  display: block;
  border-radius: 8px;
  background: #f5f5f5;
}

.col-12 {
  display: flex;
  flex-wrap: wrap;
  gap: 1.5rem; /* Adjust spacing between cards */
  justify-content: flex-start; /* Align cards to the left */
}

/* ===== HOMEPAGE PUBLICATIONS ===== */
/* Disable only the publication TITLE link, keep PDFs/buttons clickable */
.pub-list-item a[href*="/publication/"]:not([href$=".pdf"]):not([href*=".pdf?"]):not([href*="/files/"]):not(.btn) {
pointer-events: none !important;
cursor: default !important;
font-weight: 600 !important;
color: inherit !important;
text-decoration: none !important;
}

/* Explicitly keep PDFs and action links interactive */
.pub-list-item .pub-links a,
.pub-list-item a[href$=".pdf"],
.pub-list-item a[href*=".pdf?"],
.pub-list-item a[href*="/files/"],
.pub-list-item a.btn {
  pointer-events: auto !important;
  cursor: pointer !important;
}

/* Tighter spacing between publication items */
.home-publications .pub-list-item {
  margin-top: 0rem !important;
  margin-bottom: 0rem !important;
}

/* ===== HOMEPAGE FUNDERS BUTTONS ===== */
.funders-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  gap: .5rem;
  justify-items: center;   /* center logo inside each cell */
  align-items: center;
  width: 100%;
  padding-top: 1rem;
}

.funders-grid a {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;             /* make the link stretch with its grid cell */
}

.funders-grid img {
  height: 80px;          /* all logos exactly 60px tall */
  width: auto;           /* auto-scale width to keep aspect ratio */
  object-fit: contain;
  filter: grayscale(20%);
  transition: filter 0.3s;
}

.funders-grid img:hover {
  filter: none;
}

/* ===== MEET THE TEAM BUTTON ===== */
/* Make homepage CTA button larger */
.cta-group .btn {
  font-size: 1.25rem;     /* larger text */
  border-radius: 8px;     /* optional: rounder look */
  margin-top: -2rem;
  margin-bottom: -4rem;
}

/* ===== RESEARCH PAGE ===== */
/* Blocks containing text */
.research-grid {
  display: grid;
  grid-template-columns: 3fr 1.2fr; /* wider text, narrower figure */
  gap: 2rem;
  align-items: start;
  max-width: 2400px;
  margin: 0 auto;
  padding-left: 3vw;
  padding-right: 3vw;
}

.research-grid-text {
  font-size: 0.9rem !important;
  line-height: 1.5;
  grid-column: 1;
  column-count: 2; /* two text columns */
  column-gap: 2rem;
  text-align: justify;   /* ðŸ‘ˆ this justifies the text */
  margin-left: 0rem;
}

.research-grid-figure {
  grid-column: 2;    /* instead of 4 */
  display: flex;
  flex-direction: column;
  align-items: center;
}

.research-grid-figure .video-container {
  width: 100%;
  max-width: 100%;
  aspect-ratio: 16 / 9;   /* keep proportions */
  background: #000;       /* optional: black letterbox background */
  border-radius: 8px;
  overflow: hidden;
  position: relative;
}

.research-grid-figure .video-container iframe {
  width: 100%;
  height: 100%;
  border: 0;
  display: block;
  position: absolute; /* fill the container */
  top: 0;
  left: 0;
}

.research-grid-figure img {
  max-width: 100%;
  height: auto;
  border-radius: 6px;
}

.research-grid-figure figcaption {
  font-size: 0.7rem;
  color: #666;
  margin-top: 0.5rem;
  line-height: 1.4;
  text-align: center;
}

/* On mobile, collapse into one column */
@media (max-width: 900px) {
  .research-grid {
    grid-template-columns: 1fr; /* one column */
  }
  .research-grid-text {
    column-count: 1;
  }
  .research-grid-figure {
    grid-column: auto;
  }
}

/* ===== RESEARCH VIDEOS GRID ===== */
.research-video-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr); /* 4 videos in one row */
  gap: 2rem;
  max-width: 1600px;
  margin: 0 auto;
  padding: 2rem 3vw;
}

.research-video-grid .video-container {
  width: 100%;
  aspect-ratio: 16 / 9;
  background: #000;
  border-radius: 8px;
  overflow: hidden;
}

.research-video-grid .video-container iframe {
  width: 100%;
  height: 100%;
  border: 0;
  display: block;
}

/* Collapse to single column on small screens */
@media (max-width: 900px) {
  .research-video-grid {
    grid-template-columns: 1fr;
  }
}

/* Methods slider */
.slide h1 {
  font-size: 2rem !important;  /* adjust to taste */
}

/* ===== PUBLICATIONS PAGE ===== */
.page-publication-list .pub-list-item.view-citation {
  margin-top: 1.5rem !important;
  margin-bottom: 0 !important;
}

/* ===== NEWS PAGE ===== */
/* Add space between the page title area and the first content block */
.news-listing h1 {
  margin-bottom: 3rem !important;
}

/* ===== PEOPLE PAGE ===== */
/* ORCID brand green */
$orcid-green: #A6CE39;

/* People grid + profile headers (Academicons) */
.network-icon .ai-orcid,
a[aria-label="orcid"] .ai-orcid,
a[aria-label="orcid"] {
  color: $orcid-green !important;
}

/* Optional: slightly darker on hover/focus */
.network-icon .ai-orcid:hover,
a[aria-label="orcid"]:hover,
a[aria-label="orcid"]:focus {
  color: darken($orcid-green, 8%) !important;
}

/* If you happen to use Font Awesomeâ€™s ORCID icon instead of Academicons */
.network-icon .fa-orcid,
a[aria-label="orcid"] .fa-orcid {
  color: $orcid-green !important;
}

.people-person {
  display: flex;
  flex-direction: row;
  align-items: left;       /* keeps text aligned with image center */
  text-align: left !important;          /* text feels cleaner left-aligned in row */
  min-width: 180px;
  max-width: 250px;
  min-height: 180px;
  max-height: 250px;
  padding-bottom: 0.75rem;       /* add breathing room above image */
}

/* Avatar sizing + spacing */
.people-person .avatar {
  width: 120px;
  height: 120px;
  margin-right: 0.75rem;     /* slightly tighter than 1rem */
  margin-top: 0;             /* no extra space above avatar itself */
  margin-bottom: -1.5rem;
  flex-shrink: 0;
  border-radius: 50%;        /* if you want circular portraits */
}

/* ===== CONTACT PAGE ===== */
.contact-page h1 {
  margin-top: -1rem !important;
}